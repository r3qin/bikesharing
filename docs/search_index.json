[["index.html", "Bike Sharing Analysis Chapter 1 Introduction 1.1 Background 1.2 Research questions", " Bike Sharing Analysis Rui Qin, Yiwen Cai, Yuzheng Jia 2020-12-17 Chapter 1 Introduction 1.1 Background Bike-sharing system is a modern concept that evolves from the traditional bike rentals where the entire cycle of membership management, rental and return is fully digitized. Through the digital systems built on top of it, users are able to easily rent a bike from a particular position and return it at another one. As of May 2018, more than 1,600 bike-sharing programs were in operation worldwide, providing more than 18 million bicycles for public use. These programs are used for both transportation and leisure trips but they are primarily intended to facilitate short transportation trips. Today, there exists a tremendous amount of interest in the bike-sharing system considering its important role in traffic, environmental and health issues. Besides its numerous real world applications, the characteristics of the data generated render them an inspiring research topic. Different from other transportation services such as bus and subway, it has detailed records of the duration of travel and departure and arrival locations. This feature empowers it to become a virtual sensor network that can be used for detecting the citys mobility. Therefore, the living pattern of people living in every city that has the bike-sharing system can be further explored thanks to the data of their riding behaviors. 1.2 Research questions From our research, we hope to answer the following questions: What is the difference between the distribution of the daily counts of casual and registered riders? What is the relationship between casual and registered riders for both work days and non-work days? What is the pattern of the number of riders for each hour of each day in a month? What is the average number of riders for each hour of the day for the casual and registered riders? How are the weather factors such as temperature and humidity influencing the riders riding pattern? "],["data-sources.html", "Chapter 2 Data Sources 2.1 Bike sharing data 2.2 Weather data 2.3 Holiday schedule 2.4 Issues", " Chapter 2 Data Sources 2.1 Bike sharing data As we found our common interests in transportation systems, we noticed that unlike public transportation systems such as bus and subway, bike sharing systems have explicitly recorded statistics like the duration of travel, departure and arrival position. We then searched online for data related to bike rental. At first, we found a data set about Capital Bikeshare on Kaggle, a website that has many data sets for data scientists to work on. To ensure the reliability of our data, we decided to use the data from the original source  the Capital Bikeshare database. Another advantage of going with the original source is that it allowed us to analyze the most up-to-date riding data in 2019, compared to the outdated one in 2012 used in the Kaggles processed data. We did not choose the data in 2020 because the pandemic has a negative influence on peoples lifestyle and thus the analysis will not be accurate. The data set we worked on can be found on http://capitalbikeshare.com/system-data. The data set has 3,398,417 observations and 7 variables: Duration  Duration of trip Start Date  Includes start date and time End Date  Includes end date and time Start Station  Includes starting station name and number End Station  Includes ending station name and number Bike Number  Includes ID number of bike used for the trip Member Type  Indicates whether user was a registered member or a casual rider 2.2 Weather data The weather data are collected from https://www.ncdc.noaa.gov/ to add the weather condition for each day in the year. Since the data files are not publicly accessible from the website, we submitted a download request to https://www.ncdc.noaa.gov/. The data file is located at /temp_data/temp.csv. The data set has 365 observations and 7 variables: DATE - The index variable indicating the date when data was collected. PRCP - The amount of pricipitation SNOW - The amount of snow SNWD - The depth of snow TAVG - The average temperature in Fahrenheit TMAX - The maximum temperature in Fahrenheit TMIN - The minimum temperature in Fahrenheit 2.3 Holiday schedule The holiday schedule can be found on http://dchr.dc.gov/page/holiday-schedule. Since there is no downloadable data file from the website and there are only couples of holidays in 2019, we manually add them to the data frame in the data transformation stage. 2.4 Issues A couple of variables such as Bike Number in the bike-sharing data are unnecessary for our research purpose. The variables Start Date and End Date both contain the date and time information, which we need to separate for better analysis. The data size is so large that the R computation is slow during the analysis. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation In our data transformation script, we perform the following steps: Since all data are .csv files, we load them using the read.csv() function in R. We drop the unnecessary variables in the bike-sharing data: Duration, Start Station, Rnd Station, and Bike number. We choose the variable Start Date to represent the occurrence time of the bike riding. It is separated into four date and time variables: Year, Month, Day, and Hour. For the temperature data, we change the format of the variable DATE to the standard practice YYYY-MM-DD. We merge the two data sets on the index date variable by using left_join() function in the dplyr package. We add the variable workdays, which is true if the day is not a holiday or weekend and false otherwise. Since the size of the data frame is too large with every row representing a single trip, we change the granularity to hour by aggregation over the total count of bike riding trips in each hour of a day. The derived data set is condensed to 16,889 rows with 13 variables: Year - Year of the occurrence of the bike riding, 2019 Month - Month of the occurrence of the bike riding Day - Day of the occurrence of the bike riding Hour - Hour of the occurrence of the bike riding PRCP - The amount of pricipitation SNOW - The amount of snow SNWD - The depth of snow TAVG - The average temperature in Fahrenheit TMAX - The maximum temperature in Fahrenheit TMIN - The minimum temperature in Fahrenheit workdays - Indicating if it is a workday Member.Type  Indicates whether user was a registered member or a casual rider num - Number of bike riding "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values After running the code data[!complete.cases(data), ], we list all rows with missing values and find out that there are no such rows. Therefore, no imputation is necessary. ## [1] X Year Month Day Hour PRCP ## [7] SNOW SNWD TAVG TMAX TMIN workdays ## [13] Member.type num ## &lt;0 rows&gt; (or 0-length row.names) "],["results.html", "Chapter 5 Results 5.1 Part 1 5.2 Part 2 5.3 Part 3", " Chapter 5 Results 5.1 Part 1 The granularity of the main data is at the hourly level. However, for some of the analysis we will also want to compute daily statistics. In particular, in this part we will be analyzing the daily number of registered and unregistered users. 5.1.1 Distributions of the daily counts of casual and member riders Lets begin by comparing the distribution of the daily counts of casual and member riders. The following plot overlays the distribution of the daily counts of casual and member user with the granularity of the records being daily counts. The distribution for the casual riders is right skewed with the mode at around 1,500, a tail extending to over 5,000 (no counts more than 7,500); the one with the member ones is left skewed with the mode at around 11,000. The spread of the casual distribution is more concentrated on the range from 0 to 4,000 than that of the member one, which has a spread of much wider span from 0 to 15,000. Both distribution do not have significant outliers. 5.1.2 Relationship between the daily counts of casual and member riders The density plots do not show us how the daily counts for casual and member riders vary together. The following scatter plot helps us to investigate the relationship between casual and member counts. We will also draw a linear linear regression line for both groups. The points in the scatter plot are colored according to whether or not the day is working day. Since there are many points in the scatter plot, we make them small to help with solving the overplotting issue. The scatter plot roughly exhibits a linear relationship between casual and registered riders on the weekend. Moreover, it makes clear the separation between the work days and non-work days. However, the overplotting makes it difficult to see the density of the joint counts. To address this issue, lets try visualizing the data with another technique, the kernel density plot. The kernel density plot suggests that for work days there are significantly more member riders than casual ones but for nonwork days the difference is not as large. Its obviously easier to see the relationship on this plot since the density centers look more clear and therefore the overplotting issue is addressed. 5.2 Part 2 5.2.1 Number of riders every hour in Jan 2019 If we look at the graph of the number of riders every hour in Jan 2019, we notice that there is a repeating pattern that the number of riders keep fluctuating every day. Lets take a closer look at the pattern of number of bike riding every day. We want to investigate the average number of bike riding each hour in 2019. 5.2.2 Daily pattern of bike riding According to the graph above, it can be observed that the number of riders peaks during rush hours each day. Moreover, the number of riders gradually decreases and achieves its lowest point at 3:00 AM. 5.2.3 Difference between patterns of riders When comparing the number of casual and member riders, we notice that the former is much lower than the latter. More importantly, there are different patterns of bike riding for these two types of riders. For members, as in the last graph, the number of riders increases rapidly during rush hours. It can be inferred that many member riders use bike sharing for daily commute. On the other hand, for casual riders, most bike sharing happen during the daytime and there is no rapid increase in rush hours. 5.3 Part 3 In this part of analysis, lets find out how the weather condition influences the riding behaviors. The data granularity is at the daily level. 5.3.1 Average number of trips per day in different temperatures Firstly, we want to visualize the average number of trips per day in different temperatures. The graph below clearly shows that the number of trips ramps up quickly from 0 to 60 degrees, but the relationship between bike rental and temperature becomes weaker in temperatures above 60 degrees. The mode is at around 55 degree, meaning that there is a distinctly high number of bike rentals in that temperature. After some further investigation, we found out that a potential explanation for the unusual spike is that the National cherry blossom festival in DC was at the day for the mode temperature. 5.3.2 Average daily trips counts with different precipitation Next, lets visualize the relationship between rainy days and the number of trips. Its counter-intuitive to see that the number of trips is not necessarily less in the rainy days. In fact, we can see a few outliers at the days with extremely heavy rains have a pretty high number of trips. Also, its interesting to see that the number of trips on workdays are less affected by rains than on weekends. A reasonable guess is that on weekdays people cannot avoid renting bikes for commuting no matter if it is rainy or not. 5.3.3 Average daily trips counts by snow Then, we looked into the impact of snow on the number of trips. The impact of snow is very obvious as the average number of trips drops drastically on snowy days. Additionally, though the data points for the snowy days are scarce, we can roughly observe that with the increasing severeness of snow, the number of trips decreases proportionally. And during work days the snow depth has a smaller effect on the number of trips than during non-work days. "],["interactive-component.html", "Chapter 6 Interactive component 6.1 Daily pattern of bike riding 6.2 Weather effect", " Chapter 6 Interactive component 6.1 Daily pattern of bike riding Hovering the mouse on any bar in the following graph, we can see the hour of a day and the average number of riders during that hour. By selecting among different quarters and the whole year of 2019, we can check the average number of bike riding each hour over this selected period of time. Comparing graphs of different quarters, we observe that people tend to use the bike sharing more during summer time than during winter. Also, the average number of bike riding of member riders peaks at 8:00 AM and 17:00 PM in all four quarters and that of casual riders increases in the daytime. In short, the riding patterns for member and casual riders are very constant across the entire year. 6.2 Weather effect Since most of the precipitation in the rainy days in DC is less than 1 inches, points are clustered towards the left of the static graph of precipitation. It is thus difficult to tell whether the association of trip counts with rain is the same across different levels of rains. To further explore the effect of rain on the daily riders counts, we created an interactive scatter plot where we can zoom in and out of the x axis using the mouse and touch pad. The interaction allows us to look into the impact of specific range of precipitation on the daily riders counts. In fact, we found that precipitation has a diminishing marginal effect. Specifically, the pattern of change of daily trip counts from 0 (no rain) to 0.1 inches of rain is more obvious than that from 0.5 to 0.6 inches. "],["conclusion.html", "Chapter 7 Conclusion", " Chapter 7 Conclusion Due to the scarce occurrences of the unfavorable weather conditions in DC within a year, there exists only a small number of data points for snowy days, weakening our conclusion for snow depths negative association with bike rental counts. Additionally, since most days in DC in 2019 have precipitation between 0 and 1 inches per day, the visualization for precipitation is limited to a tight scope. In order to have a more convincing study of weathers impact on ridership, we need to use data from cities with more snowy days or a wider range of precipitation to solve the data deficiency and imbalance issue respectively. Enriching the trip counts in snowy days and diversifying the range of precipitation will both help produce clearer patterns in the plots. Moreover, because of our choice of data granularities, we discarded other important elements such as duration, start and end locations from the original data source. In the future, we could try to gain more insights into the spatial and temporal information by takings these elements into consideration. A list of topics will be intriguing to explore, such as the weathers effect on the trip duration, the most common geographical riding path for both types of users and etc. Overall, there are multiple facets from which we are able to study bike-sharing system, not only in DC, but also across the globe. The city dynamics are definitely different among different areas. In conclusion, our biggest takeaway from this project is that as we investigate a topic through the lens of data, we should take diverse attempts with an open and cautious mindset. "]]
