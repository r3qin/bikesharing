[["index.html", "Bike Sharing Analysis Chapter 1 Introduction", " Bike Sharing Analysis Rui Qin, Yiwen Cai, Yuzheng Jia 2020-12-16 Chapter 1 Introduction Bike-sharing system is a modern concept that evolves from the traditional bike rentals where the entire cycle of membership management, rental and return is fully digitized. Through the digital systems built on top of it, users are able to easily rent a bike from a particular position and return it at another one. As of May 2018, more than 1,600 bike-sharing programs were in operation worldwide, providing more than 18 million bicycles for public use. These programs are used for both transportation and leisure trips but are primarily intended to facilitate short transportation trips. Today, there exists a tremendous amount of interest in the bike-sharing system considering its important role in traffic, environmental and health issues. Besides its numerous real world applications, the characteristics of the data generated render them an inspiring research topic. Different from other transportation services such as bus and subway, it has detailed records of the duration of travel and departure and arrival locations. This feature empowers it to become a virtual sensor network that can be used for detecting the citys mobility. Therefore, the living pattern of people living in every city that has the bike-sharing system can be further explored thanks to the data of their riding behaviors. "],["data-sources.html", "Chapter 2 Data Sources 2.1 Bike sharing data 2.2 Weather data 2.3 Holiday schedules 2.4 Issues", " Chapter 2 Data Sources 2.1 Bike sharing data As we found our common interests in transportation systems, we noticed that unlike public transportation systems such as bus and subway, bike sharing systems have explicitly recorded statististics like the duration of travel, departure and arrival position. Therefore, we searched online for data related to bike rental. At first, we searched for related data sets on Kaggle, a website contains many data sets for data scientists to work on. We found a data set about Capital Bikeshare. To ensure reliability of the data, we decided to use data directly from the Capital Bikeshare database. Moreover, downloading data directly from the database allowed us to analysis the latest riding data of 2019. We did not choose data from 2020 because with impact of COVID 19, we supposed the lifestyle has been largely influenced. The data set we decided to work on can be found on http://capitalbikeshare.com/system-data. There are 7 variables in the data set: Duration  Duration of trip Start Date  Includes start date and time End Date  Includes end date and time Start Station  Includes starting station name and number End Station  Includes ending station name and number Bike Number  Includes ID number of bike used for the trip Member Type  Indicates whether user was a registered member or a casual rider Number of observations: 3398417 2.2 Weather data Then, weather conditions are collected from https://www.ncdc.noaa.gov/ to fill the corresponding weather information for each record. Unfortunately, we cannot directly download the data files from the website. The weather data we requested from https://www.ncdc.noaa.gov/ is located at folder temp_data. There are 7 variables in the file: DATE - The index variable indicating the date when data was collected. PRCP - The amount of pricipitation SNOW - The amount of snow SNWD - The depth of snow TAVG - The average temperature in Fahrenheit TMAX - The maximum temperature in Fahrenheit TMIN - The minimum temperature in Fahrenheit Number of observations: 365 2.3 Holiday schedules Holiday schedules can be found on http://dchr.dc.gov/page/holiday-schedule. There is no data file that can be downloaded from the website. Since there are only couples of holidays in 2019, we decide to simply type them down during the data preprocessing. 2.4 Issues First of all, We discovered that there are a couple of unnecessary variables in the bike sharing data such as bike number. Furthermore, the variables Start Date and End Date contain both date and time. We need them to be separated for analysis purpose. The third problem is that the size of data set is so large that the R computation could be slow during analysis. "],["data-transformation.html", "Chapter 3 Data transformation", " Chapter 3 Data transformation All the data we found is in csv files. They can be imported by R using read.csv() function. The bike sharing data contains unnecessary variables for the analysis: duration, start station, end station, and bike number. Those columns are dropped. In addition, we choose variable start date indicating the time of occurrence of the bike riding. The variable is separated into four variables: Year, Month, Day, and Hour. For the temperature data, the format of dates is not in a preferable format like YYYY-MM-DD. After change the format of variable DATE, by using left_join() function in the dplyr package we can merge data sets of bike sharing and weather on index variable DATE. To find out how workdays affect bike sharing, the variable workdays is added. It returns true if the day is not a holiday nor weekends and false otherwise. The data set tends to be large when every row represents a trip of bike riding. Instead, we decide to compute the number of bike riding every hour. The length of derived data set is 16889 and there are 13 variables. Year - Year of the occurrence of the bike riding, 2019 Month - Month of the occurrence of the bike riding Day - Day of the occurrence of the bike riding Hour - Hour of the occurrence of the bike riding PRCP - The amount of pricipitation SNOW - The amount of snow SNWD - The depth of snow TAVG - The average temperature in Fahrenheit TMAX - The maximum temperature in Fahrenheit TMIN - The minimum temperature in Fahrenheit workdays - Indicating if it is a workday Member.Type  Indicates whether user was a registered member or a casual rider num - Number of bike riding "],["missing-values.html", "Chapter 4 Missing values", " Chapter 4 Missing values After running the code data[!complete.cases(data), ], we list all rows with missing values and find out that there are no such rows. Therefore, no imputation is necessary. ## [1] X Year Month Day Hour PRCP ## [7] SNOW SNWD TAVG TMAX TMIN workdays ## [13] Member.type num ## &lt;0 rows&gt; (or 0-length row.names) "],["results.html", "Chapter 5 Results 5.1 Part 1 5.2 Part 2 5.3 Part 3 Weather Impact on bike rental", " Chapter 5 Results 5.1 Part 1 The granularity of the main data is at the hourly level. However, for some of the analysis we will also want to compute daily statistics. In particular, in this part we will be analyzing the daily number of registered and unregistered users. 5.1.1 1) Lets begin by comparing the distribution of the daily counts of casual and member riders. The following plot overlays the distribution of the daily counts of casual and member user with the granularity of the records being daily counts. The distribution for the casual riders is right skewed with the mode at around 1500, a tail extending to over 5000 (no counts more than 7500); the one with the member ones is left skewed with the mode at around 1,1000. The spread of the casual distribution is more concentrated on the range from 0 to 4000 than that of the member one that has a spread of much wider span from 0 to 15,000. Both distribution do not have significant outliers. 5.1.2 2) The density plots do not show us how the daily counts for casual and member riders vary together. The following scatter plot helps us to investigate the relationship between casual and member counts. We will also draw a linear linear regression line for both groups. The points in the scatter plot are colored according to whether or not the day is working day. Since there are many points in the scatter plot, we make them small to help with solving the overplotting issue. The scatter plot roughly exhibits a linear relationship between casual and registered riders on the weekend, but we cannot tell whether a point occurs on the weekend because the plot has the overplotting issue which means there are many overlapping points that make it difficult to tell where the data lies. 5.1.3 3) The scatter plot makes clear the separation between the work days and non-work days. However, the overplotting makes it difficult to see the density of the joint counts. To address this issue, lets try visualizing the data with another technique, the kernel density plot. The kernel density plot suggests that for work days there are significantly more member riders than casual ones but for nonwork days the difference is not as large. Its obviously easier to see the relationship on this plot since the density centers look more clear and therefore the overplotting issue is addressed. 5.2 Part 2 5.2.1 1) If we look at the graph of number of riders every hour in Jan 2019, we notice that there is a repeating pattern that the number of riders keep fluctuating every day. To take a closer look at the pattern of number of bike riding every day. We want to know the average number of bike riding each hour in 2019. 5.2.2 2) According to the graph above, it can be observed that the number of riders peaks during rush hours each day. Moreover, the number of riders gradually decreases and achieves its lowest point at 3:00 AM. 5.2.3 3) When comparing number of riders between member and casual riders, we notice the number of casual riders is much lower than member riders. More importantly, there are different patterns of bike riding for two types of riders. For members, as in the last graph, the number of riders increases rapidly during rush hours. It can be predicted that many member riders use bike sharing for daily commute. On the other hand, for casual riders, most bike sharing happen during the daytime and there is no rapid increase in rush hours. 5.3 Part 3 Weather Impact on bike rental Since our original data was aggregated on a hourly basis. To analyze weathers impact on bike rental, we will first turn the data into daily basis. 5.3.1 1) First, we visualized the average number of trips per day in different temperatures.Clearly from the graph below,we can see that the number of trips ramps up quickly between 0 and 60 degrees, but above 60 degrees or so theres a much weaker relationship between rental and temperature. At around 55 degree, there is a extremely high number of bike rentals. We found this is mainly associated with special events-National cherry blossom festival in DC rather than with temperature. 5.3.2 2) Next, we visualized the impact of rainy days. Its surprising to see that the rainy days are not necessarily associated with less rentals.In fact, on the day with extremely large rains, the number of trips is actually pretty high. Also, its interesting to see that number of trips on workdays are less affected by rains than on weekends. A reasonable guess is that on weekdays people cannot avoid renting bikes for commuting no matter if it is rainy or not. Then, we looked into the impact of snow. The impact of snow is very obvious as average number of trips drops drastically on snowy days. And with the increasing severeness of snow, the number of trips decreases proportionally. "],["interactive-component.html", "Chapter 6 Interactive component 6.1 1) Daily pattern of bike riding 6.2 2) Weather effect", " Chapter 6 Interactive component 6.1 1) Daily pattern of bike riding Hovering mouse on the bar, the time and the number of riders appear. By selecting different quarter or the whole year of 2019, we can check the average number of bike riding each hour over a period of time. Comparing graphs of different quarter, we observe that people tend to use the bike sharing more in summer than in winter. Also, there is no exception that the number of bike riding of registered riders peaks at 8:00 AM and 17:00 PM in all four quarters and that the number of casual riders increases in the daytime. In short, the riding patterns for members and casual riders are constant in the whole year. 6.2 2) Weather effect Since most of days in DC have precipitation of less than 1 inches, points are clustered in the left of the static graph of precipitation and it is hard to tell whether different levels of rains have different impact on bike rental. Therefore, we created an interactive scatter plot which allows zooming of the x axis using the mouse or touch. Such interactivity allows us to look into the impact of specific range of precipitation. In fact, we found that precipitation has a diminishing marginal effect. That is the difference between no rain and 0.1 inches of rain is more significant than the difference between 0.5 and 0.6 inches.And the correlation between rain and lower ridership is less clear partly because there are fewer observations in the data set. "],["conclusion.html", "Chapter 7 Conclusion 7.1 Limitations 7.2 Future Direction 7.3 Lessons learned", " Chapter 7 Conclusion 7.1 Limitations 7.2 Future Direction 7.3 Lessons learned "]]
